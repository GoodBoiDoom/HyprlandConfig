# =================================================================
#  HYPRLAND CONFIG - "Fluid & Rapid" Edition
#  Optimized for Intel Iris Xe & Kali Linux
# =================================================================

# --- MONITOR CONFIGURATION ---
# "preferred,auto,1" tells Hyprland to use your laptop screen's max resolution
# and no scaling (1). This is the most crisp setting.
monitor=,preferred,auto,1

# --- STARTUP APPLICATIONS (The "Engine" Check) ---
# Start the Status Bar
exec-once = waybar
#start hyprpaper
exec-once= hyprpaper
# Start the Wi-Fi indicator
exec-once = nm-applet --indicator
# Start the Wallpaper engine (Saves resources vs heavy daemon)
# NOTICE: Ensure you put a picture at this location!
exec-once = ~/.config/hypr/scripts/monitor_wallpaper.sh
#other starup apps using && in the same line
exec-once = brave-browser
# --- AUTHENTICATION AGENT (Crucial) ---
# This is the MATE Polkit you installed. It allows apps to ask for sudo passwords GUI style.
# replacing polkit with lxpolkit to access internal windows ssd.
exec-once = lxpolkit
                                             
# --- INPUT DEVICES ---
input {
    kb_layout = us
    follow_mouse = 1
    # Sensitivity 0.2 gives a slightly faster mouse feel ("Rapid")
    sensitivity = 0.2 
    
    touchpad {
        natural_scroll = yes # Mac-style scrolling
        clickfinger_behavior = true
    }
}

# --- VISUALS (The "KDE Aesthetic" on Tiling) ---
general {
    # Gaps between windows
    gaps_in = 8
    gaps_out = 16
    
    # Border thickness
    border_size = 2
    
    # The Colors: Cyan to Green gradient (The "Cyberpunk/Kali" look)
    # Hacker Green Gradient
    col.active_border = rgba(00ff33ee) rgba(009900ee) 45deg
    col.inactive_border = rgba(595959aa)
    
    # Layout: Dwindle is the standard "spiral" tiling that looks best
    layout = dwindle
}

decoration {
    # Rounded Corners (Fluid look)
    rounding = 5
    
    # Window Opacity (Glassy effect)
    active_opacity = 0.96
    inactive_opacity = 0.90
    
    # Blur Settings (Tuned for Iris Xe)
    blur {
        enabled = true
        size = 4
        passes = 2      # 2 passes is the sweet spot for integrated graphics
        new_optimizations = true
    }
    
    # Drop Shadows
    shadow {
        enabled = true
        range = 15
        render_power = 3
        color = rgba(00000055)
    }
}

# --- ANIMATIONS (The "Rapid" Feel) ---
animations {
    enabled = yes
    
    # BEZIER CURVE: "Rapid"
    # Starts fast (0.05), overshoots slightly (1.05) for a snap effect
    bezier = rapid, 0.05, 0.9, 0.1, 1.05
    
    # Apply curve to windows. Speed 3 is fast.
    animation = windows, 1, 3, rapid
    animation = windowsOut, 1, 3, default, popin 80%
    animation = border, 1, 3, default
    animation = fade, 1, 3, default
    animation = workspaces, 1, 3, rapid
}

# --- PERFORMANCE TWEAKS (Battery Life) ---
misc {
    vfr = true  # Variable Frame Rate: Stops rendering when nothing moves.
    disable_hyprland_logo = true
}

# --- KEYBINDINGS (The Controls) ---
$mainMod = SUPER # The Windows Key

# Basic Tools
bind = $mainMod, T, exec, kitty          # Open Terminal
bind = $mainMod, E, exec, nautilus       # Open File Manager (GNOME Files)
bind = $mainMod, space , exec, wofi --show drun # Open App Launcher
bind = $mainMod, C, killactive,          # Close Window
bind = $mainMod, M, exit,                # Log Out
bind = $mainMod, V, togglefloating,      # Make window float
bind = $mainMod, F, fullscreen           # Fullscreen

# Navigation (Arrow Keys)
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# Workspace Switching (1-4)
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4

# Move Window to Workspace
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4

# Mouse Controls
bindm = $mainMod, mouse:272, movewindow   # Hold Super + Left Click to move
bindm = $mainMod, mouse:273, resizewindow # Hold Super + Right Click to resize

#AUDIO?
# ----------------------------------------------------- 
# MEDIA CONTROLS
# ----------------------------------------------------- 

# Volume Knob (Down)
bindel = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-

# Volume Knob (Up)
bindel = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1.0 @DEFAULT_AUDIO_SINK@ 5%+

# Mute Key (If you press the knob in)
bindl = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle

# ----------------------------------------------------- 
# OPTIONAL: Media Keys (Play/Pause/Next/Prev)
# You need 'playerctl' installed for this: sudo apt install playerctl
# ----------------------------------------------------- 
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPrev, exec, playerctl previous


# ----------------------------------------------------- 
# MINIMIZE / SCRATCHPAD (The "Magic" Folder)
# ----------------------------------------------------- 

# Press Super + S to toggle the hidden "minimized" view
bind = $mainMod, S, togglespecialworkspace, magic

# Press Super + Shift + S to send the active window to that hidden view
bind = $mainMod SHIFT, S, movetoworkspace, special:magic
